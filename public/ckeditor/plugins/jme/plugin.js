CKEDITOR.plugins.add("jme",{icons:"jme",init:function(a){CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(this.path+"mathquill/mathquill.js"),function(){a.addCommand("jmeDialog",new CKEDITOR.dialogCommand("jmeDialog"))});a.addContentsCss&&a.addContentsCss(this.path+"mathquill/mathquill.css");a.ui.addButton("jme",{label:"公式编辑",command:"jmeDialog",toolbar:"insert"});CKEDITOR.dialog.add("jmeDialog",this.path+"dialogs/jme.js");a.on("doubleclick",function(a){"mathType-placeholder"===a.data.element.getAttribute("data-role")&&
(a.data.dialog="jmeDialog")})},onLoad:function(){CKEDITOR.document.appendStyleSheet(this.path+"mathquill/mathquill.css")}});